CREATE USER SA PASSWORD "" ADMIN
/*C1*/SET SCHEMA PUBLIC
CONNECT USER SA
DISCONNECT
/*C2*/SET SCHEMA PUBLIC
CONNECT USER SA
create table Customer (id integer generated by default as identity (start with 1), city varchar(255), country varchar(255), firstName varchar(255), lastName varchar(255), state varchar(255), street varchar(255), zip varchar(255), primary key (id))
create table LineItem (id integer generated by default as identity (start with 1), quantity integer not null, product_id integer, primary key (id))
create table Product (id integer generated by default as identity (start with 1), cost double not null, name varchar(255), primary key (id))
create table PurchaseOrder (id integer generated by default as identity (start with 1), cancelled bit not null, date varchar(255), total double not null, customer_id integer, primary key (id))
create table PurchaseOrder_LineItem (PurchaseOrder_id integer not null, lineItems_id integer not null, unique (lineItems_id))
alter table LineItem add constraint FK4AAEE9478603B83B foreign key (product_id) references Product
alter table PurchaseOrder add constraint FKDFD4BAADEB02F21F foreign key (customer_id) references Customer
alter table PurchaseOrder_LineItem add constraint FK7092129976F8D7A foreign key (lineItems_id) references LineItem
alter table PurchaseOrder_LineItem add constraint FK70921299608F081C foreign key (PurchaseOrder_id) references PurchaseOrder
/*C3*/SET SCHEMA PUBLIC
CONNECT USER SA
DISCONNECT
/*C4*/SET SCHEMA PUBLIC
CONNECT USER SA
SET AUTOCOMMIT FALSE
INSERT INTO PRODUCT VALUES(1,199.99E0,'iPhone')
COMMIT
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT FALSE
INSERT INTO PRODUCT VALUES(2,3299.99E0,'MacBook Pro')
COMMIT
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT FALSE
INSERT INTO PRODUCT VALUES(3,49.99E0,'iPod')
COMMIT
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT FALSE
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT FALSE
INSERT INTO CUSTOMER VALUES(1,'Boston','USA','Bill','Burke','MA','222 Dartmouth Street','02115')
COMMIT
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT FALSE
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT FALSE
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT FALSE
INSERT INTO PURCHASEORDER VALUES(1,FALSE,'Sun Feb 14 11:48:00 EST 2016',199.99E0,1)
INSERT INTO LINEITEM VALUES(1,1,1)
INSERT INTO PURCHASEORDER_LINEITEM VALUES(1,1)
COMMIT
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT FALSE
SET AUTOCOMMIT TRUE
